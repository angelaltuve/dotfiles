# Basic settings
bind_to_address "127.0.0.1"
port "6600"
pid_file "~/.local/share/mpd/mpd.pid"
log_level "notice"
log_file "~/.local/share/mpd/log"

# Directory configuration
music_directory "~/Music"
playlist_directory "~/.local/share/mpd/playlists"

# Database and state files
db_file "~/.local/share/mpd/mpd.db"
state_file "~/.local/share/mpd/state"
sticker_file "~/.local/share/mpd/sticker.sql"

# Metadata and symlink handling
metadata_to_use "artist,album,title,track,name,genre,date,composer,performer,disc,comment"
follow_outside_symlinks "yes"
follow_inside_symlinks "yes"

# Behavior settings
auto_update "yes"
restore_paused "yes"
max_output_buffer_size "16384"

# Input plugins
input {
    plugin "curl"
}

input {
    plugin "qobuz"
    enabled "no"
}

decoder {
    plugin "wildmidi"
    enabled "no"
}

# Audio outputs
audio_output {
    type "pipewire"
    name "PipeWire Sound Server"
    mixer_type "software"
}

audio_output {
    type "fifo"
    name "Visualizer feed"
    path "/tmp/mpd.fifo"
    format "44100:16:2"
}

filesystem_charset "UTF-8"
