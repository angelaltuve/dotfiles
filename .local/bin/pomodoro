#!/bin/bash

# Time definitions (in seconds)
POMODORO=1500       # 25 minutes of focus
SHORT_BREAK=300     # 5 minutes
LONG_BREAK=900      # 15 minutes
ROUNDS=4            # Number of pomodoros before long break

CYCLES=0
SOUND="/usr/share/sounds/freedesktop/stereo/complete.oga"

while true; do
  ((CYCLES++))

  # ðŸŽ¯ Focus Time
  notify-send -t 2000 -u critical "ðŸ”´ Pomodoro started!" "Focus for 25 minutes."
  sleep "$POMODORO"
  [ -f "$SOUND" ] && paplay "$SOUND"

  # Decide break type
  if ((CYCLES % ROUNDS == 0)); then
    # ðŸŒ¿ Long Break
    notify-send -t 2000 -u critical -i kalarm "ðŸŒ¿ Long Break!" "Rest for 15 minutes."
    sleep "$LONG_BREAK"
  else
    # â˜• Short Break
    notify-send -t 2000 -u critical -i kalarm "â˜• Short Break!" "Relax for 5 minutes."
    sleep "$SHORT_BREAK"
  fi

  [ -f "$SOUND" ] && paplay "$SOUND"
done
